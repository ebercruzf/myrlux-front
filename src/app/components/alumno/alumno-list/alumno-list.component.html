<div class="container my-4">
    <h2>{{title}}</h2>
  
    <button class="btn btn-success mb-3" (click)="navigateToNewAlumno()">Nuevo Alumno</button>
  
    @if (errorMessage) {
      <div class="alert alert-danger">
        <strong>Error:</strong> {{errorMessage}}
        @if (errorDetails.length > 0) {
          <ul>
            @for (detail of errorDetails; track $index) {
              <li>{{detail}}</li>
            }
          </ul>
        }
      </div>
    }
  
    @if (alumnos.length === 0) {
      <div class="alert alert-warning" role="alert">
        No hay registros de alumnos en el sistema
      </div>
    } @else {
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Fecha de Nacimiento</th>
            <th>Género</th>
            <th>Dirección</th>
            <th>Teléfono</th>
            <th>Email</th>
            <th>Fecha de Ingreso</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          @for (alumno of alumnos; track alumno.id) {
            <tr>
              <td>{{alumno.id}}</td>
              <td>{{alumno.nombre}}</td>
              <td>{{alumno.apellido}}</td>
              <td>{{alumno.fechaNacimiento | date:'dd/MM/yyyy'}}</td>
              <td>{{alumno.genero}}</td>
              <td>{{alumno.direccion}}</td>
              <td>{{alumno.telefono}}</td>
              <td>{{alumno.email}}</td>
              <td>{{alumno.fechaIngreso | date:'dd/MM/yyyy'}}</td>
              <td>
                <a [routerLink]="['/alumno/editar', alumno.id]" class="btn btn-sm btn-primary me-1">Editar</a>
                <button (click)="deleteAlumno(alumno.id)" class="btn btn-sm btn-danger" [disabled]="!alumno.id">Eliminar</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    }
  </div>